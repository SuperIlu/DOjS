Changes in TIFF v3.4beta024
===========================

.. table:: References
  :widths: auto

  ======================  ==========================================
  Current Version         v3.4beta024 (no release tag)
  Previous Version        :doc:`v3.4beta018 <v3.4beta018>`
  Master Download Site    `<ftp://ftp.sgi.com/graphics/tiff/>`_
  ======================  ==========================================

This document describes the changes made to the software between the
*previous* and *current* versions (see above).
If you don't find something listed here, then it was not done in this
timeframe, or it was not considered important enough to be mentioned.
The following information is located here:


Software configuration changes
------------------------------

* It is now possible to setup the software to build only the
  library; :program:`configure` recognizes this is the intent when the
  :file:`VERSION`, :file:`tiff.alpha`, and :file:`tif_version.c`
  files are in the local directory (i.e. :file:`.`)
* :program:`configure` no longer tries to setup HTML materials
* include file directories needed in building the library are now
  specified with a ``DIRS_LIBINC`` config parameter
* configure no longer checks for alternate compilers if ``CC``
  is set; if the specified compiler is not found or is not appropriate
  the configuration procedure aborts
* the :file:`port.h` file generated by configure is now used only by
  the library and as such as have been moved to the :file:`libtiff`
  directory
* there is beginning support for building DSO's on systems other than IRIX
* configure now verifies the JPEG and zlib directory pathnames by
  checking for well-known include files in these directories
* configure no longer creates the :file:`dist` directory needed only
  on SGI machines (for building SGI binary distributions)
* a bug was fixed whereby configure would incorrectly set
  ``ENVOPTS`` when building the software with gcc under AIX


Library changes
---------------

* two new typedefs were added to :file:`tiff.h`: :c:type:`int8`
  and :c:type:`uint8` for signed and unsigned 8-bit quantities,
  respectively; these are currently used only by
  programs in the :file:`tools` directory
* the ``BadFaxLines``, ``CleanFaxData``, and
  ``ConsecutiveBadFaxLines`` tags are now supported with
  Group 4 compression
* byte order is now correctly identified on 64-bit machines
* a bug was fixed in the PackBits decoder where input data would
  appear short when a no-op run was present
* a bug was fixed in calculations with very wide strips
* :c:func:`TIFFWriteEncodedStrip` and :c:func:`TIFFWriteRawStrip`
  were extended to support dynamically growing the number of
  strips in an image (must set ``ImageLength`` prior to
  making calls though)
* :c:func:`TIFFDefaultTileSize` now rounds tile width and height
  up to a multiple of 16 pixels, as required by the TIFF 6.0 specification
* the file :file:`version.h` is now built by a new :program:`mkversion`
  program; this was done for portability to non-UNIX systems
* support was added for the Acorn RISC OS (from Peter Greenham)
* the builtin codec table is now made ``const`` when compiling
  under VMS so that :file:`libtiff` can be built as a shared library
* support for the PowerPC Mac (from Ruedi Boesch)
* support for Windows NT/Windows 95 (from Scott Wagner)


Tools changes
-------------

* the tools no longer include :file:`port.h`
* various portability fixes; mostly to eliminate implicit assumptions
  about how long :c:type:`int32` data types are
* PostScript Level II additions to :program:`tiff2ps` from Bjorn Brox
* :program:`sgi2tiff` now handles RGBA images


Documentation changes
---------------------

* the documentation has been updated to reflect the current state of
  the software
* some routines have been moved to different manual pages
  to group like-routines together


Contributed software changes
----------------------------

* support was added for the Acorn RISC OS (from Peter Greenham)
* support for Windows NT/Windows 95 contributed for a previous
  version of this software was sort of incorporated (it's broken
  right now) (from Scott Wagner)
